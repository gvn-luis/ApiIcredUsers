# ============================================
# APLICAÇÃO
# ============================================
spring.application.name=Apibank
server.port=8080

# ============================================
# BANCO DE DADOS SQL SERVER
# ============================================
spring.datasource.url=jdbc:sqlserver://52.87.101.137:49320;databaseName=GPA_CRM;encrypt=true;trustServerCertificate=true
spring.datasource.username=bots
spring.datasource.password=bots2025*
spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver

# ============================================
# API EXTERNA ICRED
# ============================================
external-api.auth-url=https://api.icred.app/authorization-server/oauth2/token
external-api.base-url=https://api.icred.app
external-api.partner-uuid=d393090c-6cf6-11ec-9085-42010a9e0007
external-api.authorization-header=Basic Z3ZuLWludGVncmF0aW9uOjQyMjAyZWFiLTlmODctNDIxNC04ZjJlLTg2OTM5YjUyZTMwNQ==

# ============================================
# SCHEDULER - PROCESSAMENTO AUTOMÁTICO
# ============================================
# Habilita/desabilita o scheduler
scheduler.login-management.enabled=true

# Cron: Executa a cada 5 minutos (ajuste conforme necessário)
# Formato: segundo minuto hora dia mês dia-semana
# Exemplos:
#   0 */5 * * * *    = A cada 5 minutos
#   0 */10 * * * *   = A cada 10 minutos
#   0 0 */1 * * *    = A cada 1 hora
#   0 0 8-18 * * *   = A cada hora entre 8h e 18h
scheduler.login-management.cron=0 */1 * * * *

# ============================================
# JPA/HIBERNATE
# ============================================
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.SQLServerDialect
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
spring.jpa.hibernate.naming.implicit-strategy=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl

# ============================================
# LOGGING
# ============================================
logging.level.root=INFO
logging.level.com.examplex.demo=INFO
logging.level.com.examplex.demo.scheduler=INFO
logging.level.org.springframework.scheduling=INFO
logging.level.org.springframework.web.client.RestTemplate=WARN
logging.level.org.hibernate.SQL=WARN
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=WARN

# Pattern de log mais detalhado
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n

# ============================================
# ACTUATOR - MONITORAMENTO
# ============================================
management.endpoints.web.exposure.include=health,info,scheduledtasks
management.endpoint.health.show-details=when_authorized